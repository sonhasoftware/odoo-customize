<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <record model="ir.module.category" id="sonha_plan_collaborate">
        <field name="name">Kế hoạch công tác</field>
        <field name="sequence">100</field>
    </record>

    <record id="group_user_plan" model="res.groups">
        <field name="name">Nhân viên</field>
        <field name="category_id" ref="sonha_plan_collaborate"/>
    </record>

    <record id="group_admin_plan" model="res.groups">
        <field name="name">Quản trị</field>
        <field name="category_id" ref="sonha_plan_collaborate"/>
    </record>

    <record id="rule_user_plan_collaborate" model="ir.rule">
        <field name="name">rule user plan collaborate</field>
        <field name="model_id" ref="model_plan_collaborate"/>
        <field name="domain_force">['|','|',
            ('create_uid','=',user.id),
            ('general_information.employee_id.user_id','=',user.id),
            ('step_line_ids.employee_id.user_id','=',user.id)
        ]
        </field>
        <field name="groups" eval="[(4, ref('group_user_plan'))]"/>
    </record>

    <record id="rule_admin_plan_collaborate" model="ir.rule">
        <field name="name">rule admin plan collaborate</field>
        <field name="model_id" ref="model_plan_collaborate"/>
        <field name="domain_force">[(1,'=',1)]</field>
        <field name="groups" eval="[(4, ref('group_admin_plan'))]"/>
    </record>



<!--    <record id="rule_user_plan_employee" model="ir.rule">-->
<!--        <field name="name">rule user plan employee</field>-->
<!--        <field name="model_id" ref="model_hr_employee"/>-->
<!--        <field name="domain_force">[(1,'=',1)]</field>-->
<!--        <field name="groups" eval="[(4, ref('sonha_plan_collaborate.group_user_plan'))]"/>-->
<!--    </record>-->

<!--    <record id="rule_user_plan_department" model="ir.rule">-->
<!--        <field name="name">rule user plan department</field>-->
<!--        <field name="model_id" ref="model_hr_department"/>-->
<!--        <field name="domain_force">[(1,'=',1)]</field>-->
<!--        <field name="groups" eval="[(4, ref('sonha_plan_collaborate.group_user_plan'))]"/>-->
<!--    </record>-->

<!--    <record id="rule_user_plan_company" model="ir.rule">-->
<!--        <field name="name">rule user plan company</field>-->
<!--        <field name="model_id" ref="model_res_company"/>-->
<!--        <field name="domain_force">[(1,'=',1)]</field>-->
<!--        <field name="groups" eval="[(4, ref('sonha_plan_collaborate.group_user_plan'))]"/>-->
<!--    </record>-->
</odoo>